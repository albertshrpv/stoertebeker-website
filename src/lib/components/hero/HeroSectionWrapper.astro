---
import type { ComponentSettings } from "../../interfaces/page";
import { componentContentPadding } from "../../utils";
import HeroSection from "./HeroSection";
import { Markup } from "react-render-markup";

interface Props {
    data: {
        title: string;
        subtitle: string;
        image: any;
        infoTitle: string;
        infoText: string;
        infoLink: string;
        componentSettings: ComponentSettings;
        id: string;
        __component: string;
    };
    locale: string;
}

const { data, locale } = Astro.props;
const { title, image, componentSettings, id, __component } = data;

const titleBoxPadding = "pl-16 xl:pl-20 pb-16 xl:pb-12 pt-20 xl:pt-24 2xl:pt-32 pr-24 xl:pr-32 2xl:pr-44";
const infoBoxPadding = "p-10 lg:p-12 xl:p-14 2xl:p-20";

const img1 = "https://backend.stoertebeker.de" + image[0].url + "?format=webp&w=1920&embed";
const img2 = "https://backend.stoertebeker.de" + image[1].url + "?format=webp&w=1920&embed";
---

<div id={componentSettings?.anchorId} class="overflow-x-clip">
    <HeroSection client:only="react" data={data as any} locale={locale} />

    <div placeholder-id={`hero-section-${id}`}>
        <section class="w-full flex lg:hidden flex-col" style={{ height: "calc(100vh - 100px)" }}>
            <img
                src={`https://backend.stoertebeker.de${image.url}?format=webp&w=1920&embed`}
                alt={image.alternativeText || ""}
                class="w-full h-full md:max-h-[55%] object-cover"
            />
            <div class="w-full px-6 md:px-16 py-10 md:py-16">
                <div class="markup">
                    <Markup markup={title} />
                </div>
            </div>
            <a
                href={`${locale === "de" ? "/de/kompetenzen" : "/en/competencies"}`}
                class={`flex w-full items-center justify-between px-6 md:px-16 py-8 md:py-16 group bg-primary-500 text-white relative overflow-hidden transition-colors duration-200 before:absolute before:inset-0 before:bg-white before:transform before:translate-y-full before:transition-transform before:duration-500 hover:before:translate-y-0 hover:text-neutral-900`}
            >
                <div class="w-full flex items-center justify-start text-2xl md:text-3xl z-10">
                    {locale === "de" ? "Unsere Fachgebiete" : "Our Expertise"}
                </div>
                <svg
                    class="group-hover:-rotate-45 transition-transform duration-300 relative z-10 w-7 lg:w-8 xl:w-10 2xl:w-11"
                    viewBox="0 0 45 39"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        class="stroke-white group-hover:stroke-neutral-900 transition-colors duration-500"
                        d="M1 19.5L44 19.5M44 19.5L25.5714 1M44 19.5L25.5714 38"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"></path>
                </svg>
            </a>
            <div class="w-full h-[2px] bg-primary-200"></div>
            <a
                href={`${locale === "de" ? "/de/neuigkeiten" : "/en/news"}`}
                class={`flex w-full items-center justify-between px-6 md:px-16 py-8 md:py-16 group bg-primary-500 text-white relative overflow-hidden transition-colors duration-200 before:absolute before:inset-0 before:bg-white before:transform before:translate-y-full before:transition-transform before:duration-500 hover:before:translate-y-0 hover:text-neutral-900`}
            >
                <div class="w-full flex items-center justify-start text-2xl md:text-3xl z-10">
                    {locale === "de" ? "News & Publikationen" : "News & Publications"}
                </div>
                <svg
                    class="group-hover:-rotate-45 transition-transform duration-300 relative z-10 w-7 lg:w-8 xl:w-10 2xl:w-11"
                    viewBox="0 0 45 39"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        class="stroke-white group-hover:stroke-neutral-900 transition-colors duration-500"
                        d="M1 19.5L44 19.5M44 19.5L25.5714 1M44 19.5L25.5714 38"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"></path>
                </svg>
            </a>
        </section>
        <section class="hidden w-full lg:flex flex-col relative bg-primary-200" style={{ height: "calc(100vh - 100px)" }}>
            <div class="w-full h-2/3 relative overflow-hidden">
                {/* Left image - 2/3 width, positioned on left */}
                <img
                    src={img1}
                    alt={image.alternativeText || ""}
                    class="absolute top-0 left-0 h-full object-cover transition-all duration-500 ease-in-out custom-cursor3"
                    style={{
                        width: "66.67%", // 2/3 width
                        clipPath: `inset(0 0 0 0)`,
                    }}
                />

                {/* Right image - 2/3 width, positioned on right */}
                <img
                    src={img2}
                    alt={image.alternativeText || ""}
                    class="absolute top-0 right-0 h-full object-cover transition-all duration-500 ease-in-out custom-cursor3"
                    style={{
                        width: "66.67%", // 2/3 width
                        clipPath: `inset(0 0 0 50%)`,
                    }}
                />
            </div>
            <div class="w-full h-1/3 flex max-w-[2000px] mx-auto">
                <div class={`markup w-2/3 ${componentContentPadding} flex flex-col justify-center`}>
                    <Markup markup={title} />
                </div>
            </div>
            <div class="absolute bottom-0 right-0 w-1/3 h-1/3 flex flex-col z-10">
                <a
                    href={`${locale === "de" ? "/de/kompetenzen" : "/en/competencies"}`}
                    class={`flex w-full gap-2 h-full items-center justify-between py-6 px-12 group bg-primary-500 text-white relative overflow-hidden transition-colors duration-200 before:absolute before:inset-0 before:bg-white before:transform before:translate-y-full before:transition-transform before:duration-500 hover:before:translate-y-0 hover:text-neutral-900`}
                >
                    <div class="w-full flex items-center justify-start text-xl lg:text-xl xl:text-3xl 2xl:text-4xl relative z-10">
                        {locale === "de" ? "Unsere Fachgebiete" : "Our Expertise"}
                    </div>
                    <svg
                        class="group-hover:-rotate-45 transition-transform duration-300 relative z-10 w-7 lg:w-8 xl:w-10 2xl:w-11"
                        viewBox="0 0 45 39"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            class="stroke-white group-hover:stroke-neutral-900 transition-colors duration-500"
                            d="M1 19.5L44 19.5M44 19.5L25.5714 1M44 19.5L25.5714 38"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </svg>
                </a>
                <div class="w-full h-[4px] bg-primary-200"></div>
                <a
                    href={`${locale === "de" ? "/de/neuigkeiten" : "/en/news"}`}
                    class={`flex w-full gap-2 h-full items-center justify-between py-6 px-12 group bg-primary-500 text-white relative overflow-hidden transition-colors duration-200 before:absolute before:inset-0 before:bg-white before:transform before:translate-y-full before:transition-transform before:duration-500 hover:before:translate-y-0 hover:text-neutral-900`}
                >
                    <div class="w-full flex items-center justify-start text-xl lg:text-xl xl:text-3xl 2xl:text-4xl relative z-10">
                        {locale === "de" ? "News & Publikationen" : "News & Publications"}
                    </div>
                    <svg
                        class="group-hover:-rotate-45 transition-transform duration-300 relative z-10 w-7 lg:w-8 xl:w-10 2xl:w-11"
                        viewBox="0 0 45 39"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            class="stroke-white group-hover:stroke-neutral-900 transition-colors duration-500"
                            d="M1 19.5L44 19.5M44 19.5L25.5714 1M44 19.5L25.5714 38"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"></path>
                    </svg>
                </a>
            </div>
        </section>
    </div>
</div>
